<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔮 隨緣堂 | 知命隨緣，創造無限</title>
    <style>
        /* CSS: 網站視覺風格與排版 */
        body { font-family: 'Noto Sans TC', 'Microsoft JhengHei', Arial, sans-serif; margin: 0; padding: 0; background-color: #f8f7ff; color: #333; line-height: 1.6; }
        header { background-color: #5d35b6; color: white; padding: 20px 0; text-align: center; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        header h1 { margin: 0; font-size: 2.2em; }
        header p { margin: 5px 0 0; font-size: 1.1em; }
        nav { background-color: #7c4dff; text-align: center; padding: 10px 0; }
        nav a { color: white; text-decoration: none; padding: 10px 20px; display: inline-block; transition: background-color 0.3s; }
        nav a:hover { background-color: #9e79ff; }
        .container { width: 90%; max-width: 1000px; margin: 30px auto; padding: 30px; background-color: white; border-radius: 12px; box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1); }
        h2 { color: #5d35b6; border-bottom: 3px solid #e0d8ff; padding-bottom: 10px; margin-top: 0; }
        .tool-box { border: 1px solid #c9c3e9; padding: 25px; border-radius: 8px; margin-bottom: 25px; background-color: #f7f5ff; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #4a148c; }
        input[type="date"], input[type="time"] { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        button { background-color: #7c4dff; color: white; padding: 12px 25px; border: none; border-radius: 5px; cursor: pointer; font-size: 1.1em; transition: background-color 0.3s; }
        button:hover { background-color: #5d35b6; }
        .result-panel { margin-top: 25px; padding: 20px; background-color: #e0f7fa; border-left: 5px solid #00bcd4; border-radius: 6px; }
        .bazi-table { width: 100%; border-collapse: collapse; margin-top: 15px; text-align: center; font-size: 1.1em; }
        .bazi-table th, .bazi-table td { border: 1px solid #aaa; padding: 10px; }
        .bazi-table th { background-color: #b2ebf2; color: #004d40; }
        .bazi-table td { font-weight: bold; }
        .article-list li { margin-bottom: 15px; cursor: pointer; }
        .article-list a { text-decoration: none; color: #5d35b6; font-weight: bold; }
        .article-list a:hover { color: #8e24aa; text-decoration: underline; }
        
        /* 隱藏文章內容區塊，只顯示當前選中的文章 */
        .article-content { display: none; padding-top: 20px; }
        .article-content h3 { color: #4a148c; border-left: 5px solid #c084fc; padding-left: 10px; margin-top: 25px; }
        .article-content .key-point { background-color: #fff9c4; border-left: 5px solid #ffd700; padding: 15px; margin: 20px 0; border-radius: 5px; }
        
        /* 導航切換時，隱藏所有容器，只顯示當前容器 */
        .content-section { display: none; }
    </style>
</head>
<body>

    <header>
        <h1>隨緣堂 | 知命隨緣，創造無限</h1>
        <p>融合東方智慧與現代科技的命理探索平台</p>
    </header>

    <nav>
        <a href="javascript:void(0)" onclick="showSection('home')">首頁</a>
        <a href="javascript:void(0)" onclick="showSection('bazi-tool')">八字排盤 (核心)</a>
        <a href="javascript:void(0)" onclick="showSection('articles')">命理文章</a>
        <a href="javascript:void(0)" onclick="showSection('about')">關於我們</a>
    </nav>

    <div class="container content-section" id="home" style="display: block;">
        <h2>🔥 歡迎來到隨緣堂</h2>
        <p>「隨緣」並非消極等待，而是洞悉機緣、順勢而為。隨緣堂致力於提供最客觀、最具建設性的生命指引。</p>
        
        <div style="display: flex; gap: 20px; margin-top: 20px;">
            <a href="javascript:void(0)" onclick="showSection('bazi-tool')" style="flex: 1;"><button style="width: 100%;">🔮 解鎖生命密碼：免費八字精排</button></a>
            <a href="javascript:void(0)" onclick="showSection('articles')" style="flex: 1;"><button style="width: 100%; background-color: #81c784;">📚 智慧沉澱：入門與進階學堂</button></a>
        </div>
        
        <h3 style="color: #4a148c; margin-top: 30px;">緣分俱足，我們為您點亮方向</h3>
        <p>隨緣堂堅守傳統演算法的精確性，同時結合現代網路技術，消除命理的門檻。我們提供的不是宿命論斷，而是給予您一個清晰的視野，讓您能順著天賦的潮流，避開暗礁，掌握主動權，活出最圓滿的人生。</p>
    </div>

    <div class="container content-section" id="bazi-tool">
        <h2>🛠️ 八字命盤分析工具</h2>
        <p>八字學是時間的藝術。請務必輸入**陽曆**出生日期與**精確**時間，以確保排盤的準確性。</p>
        <div class="tool-box">
            <form id="baziForm">
                <label for="birthDate">出生日期 (陽曆)：</label>
                <input type="date" id="birthDate" required>

                <label for="birthTime">出生時間 (24小時制)：</label>
                <input type="time" id="birthTime" required>
                
                <button type="button" onclick="generateBazi()">顯示八字排盤</button>
            </form>
        </div>

        <div class="result-panel" id="baziResult">
            請輸入日期與時間後，點擊按鈕進行排盤。
        </div>
    </div>
    
    <div class="container content-section" id="articles">
        <div id="article-list-container">
            <h2>📚 隨緣堂命理學堂</h2>
            <p>知識是改變命運的力量。點擊標題即可閱讀全文。</p>
            <ul class="article-list">
                <li><a href="javascript:void(0)" onclick="loadArticle('article1')">**【新手必讀】一分鐘看懂你的「日主」是什麼？八字命盤的真正核心**</a> (八字入門)</li>
                <li><a href="javascript:void(0)" onclick="loadArticle('article2')">當財星遇到食傷：隨緣堂解析您的「財富格局」與賺錢模式</a> (八字進階)</li>
                <li><a href="javascript:void(0)" onclick="loadArticle('article3')">紫微斗數入門：十四顆主星的性格速查表 (內含命宮查詢法)</a> (紫微入門)</li>
                <li><a href="javascript:void(0)" onclick="loadArticle('article4')">月老紅線在哪裡？從紫微命盤「夫妻宮」看您未來伴侶的類型與個性</a> (紫微情感)</li>
                <li><a href="javascript:void(0)" onclick="loadArticle('article5')">急需指引？易經六爻起卦法：問事、事業、感情的快速決策之道</a> (六爻入門)</li>
                <li><a href="javascript:void(0)" onclick="loadArticle('article6')">小資族居家佈局：掌握三個「陽宅三要」原則，提升財運與健康</a> (風水居家)</li>
                <li><a href="javascript:void(0)" onclick="loadArticle('article7')">【流年解析】您知道嗎？流年運勢的「太歲」與「犯沖」是怎麼一回事？</a> (運勢趨勢)</li>
            </ul>
        </div>

        <div id="article-content-wrapper">
            <a href="javascript:void(0)" onclick="showSection('articles')" style="display: block; margin-bottom: 20px; font-weight: bold;">← 返回文章列表</a>

            <div id="article1" class="article-content">
                <h2>【新手必讀】一分鐘看懂你的「日主」是什麼？</h2>
                <p style="font-style: italic; color: #757575;">發佈於：八字學院 / 入門基礎</p>
                <p>在八字命理學中，我們常說「算八字」，但八個字裡，哪個字才是最重要的？答案是：**日主** (或稱日元、命主)。日主就像是您靈魂的代號，是分析一切的起點。</p>
                <h3>什麼是「日主」？</h3>
                <div class="key-point"><p><strong>日主，就是您八字命盤中「日柱」的「天干」那個字。</strong></p><p>它代表了您最核心的性格、天賦、以及您在世界上扮演的角色。了解日主，就是了解您最原始的本質。</p></div>
                <p>您不需要自己查詢複雜的曆法！只需回到 <a href="javascript:void(0)" onclick="showSection('bazi-tool')">**八字排盤工具**</a>，輸入您的陽曆出生日期和時間，工具就會自動幫您計算出八字。</p>
            </div>

            <div id="article2" class="article-content">
                <h2>當財星遇到食傷：隨緣堂解析您的「財富格局」與賺錢模式</h2>
                <p style="font-style: italic; color: #757575;">發佈於：八字學院 / 進階實戰</p>
                <p>在八字命盤中，財運並非只有「財星」才能決定。真正高級的財富格局，往往涉及「食傷」與「財星」之間的完美配合。了解這個機制，您就能找到最適合自己的生財之道。</p>
                <h3>什麼是「食傷生財」？</h3>
                <div class="key-point"><p><strong>食傷生財</strong> 是指命盤中，代表創意、口才、技能、表達的 **食神與傷官** (簡稱食傷)，去生助代表財富、資源的 **正財與偏財** (簡稱財星)。</p><p>這種格局的財富來源，是透過您的**創意、專業技能、服務或獨特產品**而獲得。</p></div>
                <p>無論您的命盤是哪一種，都建議您利用您的天賦。如果您有食傷生財的結構，就多投入創意和專業技能的提升吧！</p>
            </div>
            
            <div id="article3" class="article-content">
                <h2>紫微斗數入門：十四顆主星的性格速查表</h2>
                <p style="font-style: italic; color: #757575;">發佈於：紫微學院 / 主星基礎</p>
                <p>紫微斗數的核心是十四顆主星，它們坐落於您的命宮，決定了您約 70% 的先天性格。了解主星，是開啟紫微大門的第一步。</p>
                <h3>十四主星速查</h3>
                <ul>
                    <li>**開創型 (七殺、破軍、廉貞、貪狼)：** 敢衝敢闖，行動力強，變化快速，不喜受拘束。</li>
                    <li>**領導型 (紫微、天府、武曲、天相)：** 穩重、有擔當，喜歡規劃和掌控全局。</li>
                    <li>**支援型 (太陽、巨門、天機)：** 聰明、善於思考、溝通，樂於助人與服務。</li>
                    <li>**合作型 (太陰、天梁、天同)：** 溫和、內斂、重情感，需要穩定與安全感。</li>
                </ul>
            </div>
            
            <div id="article4" class="article-content">
                <h2>月老紅線在哪裡？從紫微命盤「夫妻宮」看您未來伴侶的類型與個性</h2>
                <p style="font-style: italic; color: #757575;">發佈於：紫微學院 / 情感婚姻</p>
                <p>在紫微斗數中，**夫妻宮** 是觀察婚姻狀況和伴侶特徵最重要的宮位。夫妻宮主星的性質，會顯現在您所吸引的對象類型上。</p>
                <h3>夫妻宮主星簡述</h3>
                <ul>
                    <li>**七殺/破軍：** 伴侶個性強勢、脾氣較硬，感情關係變化多。</li>
                    <li>**天府/天相：** 伴侶氣質高貴、穩重可靠，注重門當戶對。</li>
                    <li>**天機/巨門：** 伴侶思緒靈活、能言善道，但容易爭執或溝通過多。</li>
                </ul>
                <p>要準確了解您的夫妻宮，請務必排盤！</p>
            </div>

            <div id="article5" class="article-content">
                <h2>急需指引？易經六爻起卦法：問事、事業、感情的快速決策之道</h2>
                <p style="font-style: italic; color: #757575;">發佈於：易經六爻學院 / 快速入門</p>
                <p>六爻是易經的實戰應用，透過銅錢或程式起卦，可以針對單一事件做出「是」或「否」的判斷，以及事件發展的細節。</p>
                <h3>六爻的關鍵：世應與六親</h3>
                <div class="key-point"><p><strong>世爻</strong> 代表問卜者自己；<strong>應爻</strong> 代表事件的對方或結果。兩者的關係決定了事情的成敗。<strong>六親</strong> (父母、子孫、官鬼、妻財、兄弟) 則代表事件中的各類人物和事物。</p></div>
                <p>六爻是一種非常實用且具體的回饋工具，是您遇到人生選擇時的最佳參謀。</p>
            </div>

            <div id="article6" class="article-content">
                <h2>小資族居家佈局：掌握三個「陽宅三要」原則，提升財運與健康</h2>
                <p style="font-style: italic; color: #757575;">發佈於：風水學院 / 基礎佈局</p>
                <p>陽宅三要，指的是決定一間房子風水好壞的三個最重要的位置：**門 (大門)、主 (主臥室/爐灶)、灶 (廚房/爐灶)**。</p>
                <h3>掌握三要，風水不差</h3>
                <ul>
                    <li>**門：** 納氣之口。應寬敞明亮，不宜對沖或有煞氣。</li>
                    <li>**主：** 主人活動空間。床位應靠牆，避開樑壓頂和門沖。</li>
                    <li>**灶：** 財富與健康之源。灶位應穩固，避開水火相沖 (水槽與爐灶不宜緊鄰)。</li>
                </ul>
            </div>

            <div id="article7" class="article-content">
                <h2>【流年解析】您知道嗎？流年運勢的「太歲」與「犯沖」是怎麼一回事？</h2>
                <p style="font-style: italic; color: #757575;">發佈於：運勢趨勢 / 流年分析</p>
                <p>「犯太歲」是每個人都會遇到的運勢週期。太歲，即當年的地支（例如甲辰年的「辰」）。</p>
                <h3>犯太歲的四種基本情況</h3>
                <ul>
                    <li>**值太歲 (本命年)：** 當年地支與您生肖相同 (例如屬龍遇到辰年)。多數為變動、挑戰年。</li>
                    <li>**沖太歲：** 當年地支與您生肖對沖 (例如屬狗遇到辰年)。多為衝突、搬遷、大變化年。</li>
                    <li>**刑、害、破太歲：** 運勢波動較小，多影響人際關係或健康。</li>
                </ul>
                <p>犯太歲並非大凶，而是提醒您需要保守行事、多加謹慎的一年。</p>
            </div>
            
        </div>
    </div>


    <div class="container content-section" id="about">
        <h2>ℹ️ 關於隨緣堂 | 知命、惜緣、造命</h2>
        <p style="font-weight: bold;">核心理念：隨緣堂相信，最好的預測是創造。</p>
        <p>「隨緣堂」的創立，源於對東方命理學的敬重與熱愛。我們堅守傳統演算法的精確性，同時結合現代網路技術，提供給您清晰的視野，讓您能順著天賦的潮流，掌握主動權，活出最圓滿的人生。</p>
    </div>

    <footer>
        &copy; 2025 隨緣堂版權所有 | 本網站由 AI 助理為極速 MVP 專案創建。
    </footer>

    <script>
        // === JavaScript: 八字排盤演算法 (與前一版相同) ===
        const TIAN_GAN = ["甲", "乙", "丙", "丁", "戊", "己", "庚", "辛", "壬", "癸"];
        const DI_ZHI = ["子", "丑", "寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥"];

        function calculateDayGanZhi(dateStr) {
            const date = new Date(dateStr);
            const referenceDate = new Date('1900/01/01');
            const diffDays = Math.floor((date - referenceDate) / (1000 * 60 * 60 * 24));
            
            const ganIndex = (6 + diffDays) % 10;
            const zhiIndex = (0 + diffDays) % 12;

            return {
                gan: TIAN_GAN[ganIndex],
                zhi: DI_ZHI[zhiIndex]
            };
        }

        function calculateYearGanZhi(year) {
            const yearIndex = (year - 1984) % 60; 
            const ganIndex = yearIndex % 10;
            const zhiIndex = yearIndex % 12;
            
            const finalGan = TIAN_GAN[(ganIndex + 10) % 10];
            const finalZhi = DI_ZHI[(zhiIndex + 12) % 12];
            
            return {
                gan: finalGan,
                zhi: finalZhi
            };
        }

        function calculateHourGanZhi(dayGan, timeStr) {
            const hour = parseInt(timeStr.split(':')[0]);
            
            const zhiIndex = Math.floor((hour + 1) / 2) % 12;
            const hourZhi = DI_ZHI[zhiIndex];

            const dayGanIndex = TIAN_GAN.indexOf(dayGan);
            const hourGanStart = (dayGanIndex * 12 + zhiIndex) % 10;
            const hourGan = TIAN_GAN[hourGanStart % 10]; 

            return {
                gan: hourGan,
                zhi: hourZhi
            };
        }

        function generateBazi() {
            const dateStr = document.getElementById('birthDate').value;
            const timeStr = document.getElementById('birthTime').value;
            const resultDiv = document.getElementById('baziResult');
            
            if (!dateStr || !timeStr) {
                resultDiv.innerHTML = '<p style="color: red;">請輸入完整的出生日期和時間！</p>';
                return;
            }

            const date = new Date(dateStr);
            const year = date.getFullYear();

            const dayGanZhi = calculateDayGanZhi(dateStr);
            const yearGanZhi = calculateYearGanZhi(year);

            // 模擬月柱
            const monthGan = '庚'; 
            const monthZhi = '子'; 

            const hourGanZhi = calculateHourGanZhi(dayGanZhi.gan, timeStr);

            const mockResult = `
                <h4>✅ 八字排盤結果 (MVP 程式碼版)</h4>
                <p><strong>出生陽曆：</strong>${dateStr} ${timeStr}</p>
                <p>日主（命主）為：<strong style="color: #d946ef; font-size: 1.2em;">${dayGanZhi.gan}</strong></p>
                <table class="bazi-table">
                    <tr><th>柱</th><th>年柱</th><th>月柱</th><th>日柱</th><th>時柱</th></tr>
                    <tr><td>天干</td><td>${yearGanZhi.gan}</td><td>${monthGan}</td><td>${dayGanZhi.gan}</td><td>${hourGanZhi.gan}</td></tr>
                    <tr><td>地支</td><td>${yearGanZhi.zhi}</td><td>${monthZhi}</td><td>${dayGanZhi.zhi}</td><td>${hourGanZhi.zhi}</td></tr>
                </table>
                <p style="margin-top: 20px; font-style: italic; color: #00796b;">
                    注意：此為單一程式碼檔案極速版。月柱與時柱為簡化或模擬。
                </p>
            `;
            
            resultDiv.innerHTML = mockResult;
        }

        // === JavaScript: 內容切換與文章顯示邏輯 ===
        
        // 隱藏所有內容區塊，只顯示當前選中的區塊
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';

            // 如果切換到文章區，
